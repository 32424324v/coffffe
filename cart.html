<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee World Shop ‚Äì –ö–æ—à–∏–∫</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
  <div class="header-inner">
    <h1>Coffee World Shop</h1>
    <nav>
      <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="shop.html">–ú–∞–≥–∞–∑–∏–Ω</a>
      <a class="active" href="cart.html">–ö–æ—à–∏–∫ <span id="cart-count" class="cart-count">0</span></a>
      <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
    </nav>
  </div>
</header>

<main class="container">

<section class="cart-items">
  <h2>–í–∞—à –∫–æ—à–∏–∫</h2>

  <div class="filter-bar">
    <input id="search-input" type="text" placeholder="–ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—É...">
    <select id="category-filter">
      <option value="all">–£—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
      <option value="coffee">–ö–∞–≤–∞</option>
      <option value="syrup">–°–∏—Ä–æ–ø–∏</option>
      <option value="accessory">–ê–∫—Å–µ—Å—É–∞—Ä–∏</option>
    </select>
  </div>

  <div id="cart-items-container">
    <!-- –¢–æ–≤–∞—Ä–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ JavaScript -->
  </div>

  <div id="empty-cart-message" class="empty-cart-message" style="display: none;">
    <h3>üòî –í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</h3>
    <p>–î–æ–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä–∏ –∑ <a href="index.html">–≥–æ–ª–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏</a> –∞–±–æ <a href="shop.html">–º–∞–≥–∞–∑–∏–Ω—É</a>, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.</p>
  </div>

</section>

<aside class="summary-box">
  <h2>–ó–≤–µ–¥–µ–Ω–Ω—è</h2>

  <div class="sum-row">
    <span>–ü—Ä–æ–º—ñ–∂–Ω–∞ —Å—É–º–∞</span>
    <span id="subtotal">0 –≥—Ä–Ω</span>
  </div>

  <div class="sum-total">
    <span>–†–∞–∑–æ–º</span>
    <span id="grand-total">0 –≥—Ä–Ω</span>
  </div>

  <button class="order-btn" id="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
  <p class="shipping-note">*–î–æ—Å—Ç–∞–≤–∫–∞ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ñ</p>
</aside>

</main>

<footer>
  <div class="footer-content">
    <p>¬© 2025 Coffee World Shop. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
    <p>–ö–æ–Ω—Ç–∞–∫—Ç–∏: +380 12 345 6789 | info@coffeeworld.com</p>
  </div>
</footer>

<script src="cart-manager.js"></script>
<script>
  // –î–∞–Ω—ñ —Ç–æ–≤–∞—Ä—ñ–≤ (—Ç–∞–∫—ñ –∂ —è–∫ –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ)
  const products = [
    {
      id: 1,
      name: "–ê—Ä–∞–±—ñ–∫–∞ –ï—Ñ—ñ–æ–ø—ñ—è –Ü—Ä–≥–∞—á–µ—Ñ—Ñ–µ",
      description: "–§—Ä—É—Ç–æ–≤—ñ –Ω–æ—Ç–∏, —Å–µ—Ä–µ–¥–Ω—î –æ–±—Å–º–∞–∂—É–≤–∞–Ω–Ω—è",
      price: 1250,
      category: "coffee"
    },
    {
      id: 2,
      name: "–†–æ–±—É—Å—Ç–∞ –Ü–Ω–¥—ñ—è",
      description: "–ù–∞—Å–∏—á–µ–Ω–∏–π —Å–º–∞–∫, —Ç–µ–º–Ω–µ –æ–±—Å–º–∞–∂—É–≤–∞–Ω–Ω—è",
      price: 2900,
      category: "coffee"
    },
    {
      id: 3,
      name: "–°–∏—Ä–æ–ø –≤–∞–Ω—ñ–ª—å–Ω–∏–π Monin",
      description: "1 –ª—ñ—Ç—Ä, –¥–ª—è –∫–∞–≤–∏ —Ç–∞ –∫–æ–∫—Ç–µ–π–ª—ñ–≤",
      price: 450,
      category: "syrup"
    },
    {
      id: 4,
      name: "–§—Ä–µ–Ω—á-–ø—Ä–µ—Å Bodum",
      description: "–°–∫–ª—è–Ω–∏–π, 1 –ª—ñ—Ç—Ä, –Ω–µ—Ä–∂–∞–≤—ñ—é—á–∞ —Å—Ç–∞–ª—å",
      price: 1800,
      category: "accessory"
    },
    {
      id: 5,
      name: "–ö–∞–≤–∞ –ë—Ä–∞–∑–∏–ª—ñ—è –°–∞–Ω—Ç–æ—Å",
      description: "–ì–æ—Ä—ñ—Ö–æ–≤—ñ –Ω–æ—Ç–∏, –ª–µ–≥–∫–µ –æ–±—Å–º–∞–∂—É–≤–∞–Ω–Ω—è",
      price: 950,
      category: "coffee"
    },
    {
      id: 6,
      name: "–ú–æ–ª–æ—Ç–∫–æ–≤–∞ –∫–∞–≤–æ–º–æ–ª–∫–∞",
      description: "–ï–ª–µ–∫—Ç—Ä–∏—á–Ω–∞, 18 —Å—Ç—É–ø–µ–Ω—ñ–≤ –ø–æ–º–µ–ª—É",
      price: 3200,
      category: "accessory"
    }
  ];

  // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ —É –∫–æ—à–∏–∫—É
  function renderCart() {
    const cart = getCart();
    const container = document.getElementById('cart-items-container');
    const emptyMessage = document.getElementById('empty-cart-message');
    
    if (cart.length === 0) {
      container.innerHTML = '';
      emptyMessage.style.display = 'block';
      updateCartCount();
      updateTotals();
      return;
    }
    
    emptyMessage.style.display = 'none';
    container.innerHTML = '';
    
    cart.forEach(item => {
      const product = products.find(p => p.id === item.id);
      if (!product) return;
      
      const cartCard = document.createElement('div');
      cartCard.className = 'cart-card';
      cartCard.dataset.category = product.category;
      cartCard.dataset.id = item.id;
      
      const totalPrice = item.quantity * product.price;
      
      cartCard.innerHTML = `
        <div class="card-info">
          <h3>${product.name}</h3>
          <p>${product.description}</p>
          <button class="remove-btn" onclick="removeFromCart(${item.id})">–í–∏–¥–∞–ª–∏—Ç–∏</button>
        </div>
        <input class="qty" type="number" value="${item.quantity}" min="1" onchange="updateQuantity(${item.id}, this.value)">
        <div class="price" data-price="${product.price}">${product.price} –≥—Ä–Ω</div>
        <div class="item-total">${totalPrice} –≥—Ä–Ω</div>
      `;
      
      container.appendChild(cartCard);
    });
    
    updateCartCount();
    updateTotals();
  }

  // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ç–æ–≤–∞—Ä—É
  function updateQuantity(productId, newQuantity) {
    const cart = getCart();
    const item = cart.find(item => item.id === productId);
    
    if (item) {
      newQuantity = parseInt(newQuantity);
      if (isNaN(newQuantity) || newQuantity < 1) newQuantity = 1;
      if (newQuantity > 99) newQuantity = 99;
      
      item.quantity = newQuantity;
      saveCart(cart);
      renderCart();
    }
  }

  // –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—É –∑ –∫–æ—à–∏–∫–∞
  function removeFromCart(productId) {
    if (!confirm('–í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π —Ç–æ–≤–∞—Ä –∑ –∫–æ—à–∏–∫–∞?')) return;
    
    const cart = getCart();
    const updatedCart = cart.filter(item => item.id !== productId);
    saveCart(updatedCart);
    renderCart();
    
    // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    showNotification('–¢–æ–≤–∞—Ä –≤–∏–¥–∞–ª–µ–Ω–æ –∑ –∫–æ—à–∏–∫–∞');
  }

  // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–≥–∞–ª—å–Ω–æ—ó —Å—É–º–∏
  function updateTotals() {
    const cart = getCart();
    let subtotal = 0;
    
    cart.forEach(item => {
      const product = products.find(p => p.id === item.id);
      if (product) {
        subtotal += item.quantity * product.price;
      }
    });
    
    document.getElementById('subtotal').textContent = `${subtotal} –≥—Ä–Ω`;
    document.getElementById('grand-total').textContent = `${subtotal} –≥—Ä–Ω`;
  }

  // –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Ç–æ–≤–∞—Ä—ñ–≤
  function applyFilters() {
    const text = document.getElementById('search-input').value.toLowerCase();
    const category = document.getElementById('category-filter').value;
    
    document.querySelectorAll('.cart-card').forEach(card => {
      const name = card.querySelector('h3').textContent.toLowerCase();
      const matchText = name.includes(text);
      const matchCat = category === 'all' || card.dataset.category === category;
      
      card.style.display = matchText && matchCat ? 'grid' : 'none';
    });
    
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î –≤–∏–¥–∏–º—ñ —Ç–æ–≤–∞—Ä–∏
    const visibleCards = document.querySelectorAll('.cart-card[style*="grid"]').length;
    const emptyMessage = document.getElementById('empty-cart-message');
    const container = document.getElementById('cart-items-container');
    
    if (visibleCards === 0 && container.children.length > 0) {
      emptyMessage.style.display = 'block';
    } else if (visibleCards > 0) {
      emptyMessage.style.display = 'none';
    }
  }

  // –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
  document.getElementById('checkout-btn').addEventListener('click', () => {
    const cart = getCart();
    if (cart.length === 0) {
      alert('–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π! –î–æ–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä–∏ –ø–µ—Ä–µ–¥ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è–º –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.');
      return;
    }
    
    const total = cart.reduce((sum, item) => {
      const product = products.find(p => p.id === item.id);
      return sum + (product ? item.quantity * product.price : 0);
    }, 0);
    
    if (confirm(`–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å—É–º—É ${total} –≥—Ä–Ω?`)) {
      // –°–∏–º—É–ª—è—Ü—ñ—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è
      alert('‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ! –î—è–∫—É—î–º–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!');
      
      // –û—á–∏—â–µ–Ω–Ω—è –∫–æ—à–∏–∫–∞ –ø—ñ—Å–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
      localStorage.removeItem('coffeeShopCart');
      renderCart();
    }
  });

  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
  document.addEventListener('DOMContentLoaded', () => {
    renderCart();
    
    // –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø–æ–¥—ñ—ó —Ñ—ñ–ª—å—Ç—Ä—ñ–≤
    document.getElementById('search-input').addEventListener('input', applyFilters);
    document.getElementById('category-filter').addEventListener('change', applyFilters);
  });

  // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ—à–∏–∫–æ–º
  function getCart() {
    const cartJson = localStorage.getItem('coffeeShopCart');
    return cartJson ? JSON.parse(cartJson) : [];
  }

  function saveCart(cart) {
    localStorage.setItem('coffeeShopCart', JSON.stringify(cart));
  }

  function updateCartCount() {
    const cart = getCart();
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    const cartCount = document.getElementById('cart-count');
    if (cartCount) {
      cartCount.textContent = totalItems;
      cartCount.style.display = totalItems > 0 ? 'inline-block' : 'none';
    }
  }

  function showNotification(message) {
    const notification = document.createElement('div');
    notification.className = 'notification';
    notification.textContent = message;
    notification.style.cssText = `
      position: fixed;
      top: 100px;
      right: 20px;
      background: #e74c3c;
      color: white;
      padding: 15px 25px;
      border-radius: 8px;
      z-index: 10000;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      animation: slideIn 0.3s ease;
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
      notification.style.animation = 'slideOut 0.3s ease forwards';
      setTimeout(() => {
        document.body.removeChild(notification);
      }, 300);
    }, 3000);
  }

  // –î–æ–¥–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—ó –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }
  `;
  document.head.appendChild(style);
</script>
</body>
</html>
